:: default : yabai -m config normal_window_opacity 0.8
:: swap @ : yabai -m config active_window_border_color 0xff0000ff ; yabai -m config normal_window_opacity 0.4
:: warp @ : yabai -m config active_window_border_color 0xffff00ff ; yabai -m config normal_window_opacity 0.4
:: inc @ : yabai -m config active_window_border_color 0xffffff00 ; yabai -m config normal_window_opacity 0.4
:: dec @ : yabai -m config active_window_border_color 0xff00ffff ; yabai -m config normal_window_opacity 0.4
:: ins @ : yabai -m config active_window_border_color 0xffff0000; yabai -m config normal_window_opacity 0.4 ; sleep 2 ; skhd -k "escape"
:: app_switcher_1 : skhd -k "ctrl - f3" && im-select org.sil.ukelele.keyboardlayout.t.english-ilyabirmantypography
:: app_switcher_2

lalt - s : set has_window (yabai -m query --windows --space | jq 'any(.app == "Safari")') ; if not $has_window ; osascript -e 'tell application "Safari" to make new document'; end; osascript -e 'tell application "Safari" to activate'
# lalt - i : set has_window (yabai -m query --windows --space | jq 'any(.app == "iTerm2")') ; if not $has_window ; osascript -e 'tell application "iTerm" to set new_window to (create window with default profile)'; end; osascript -e 'tell application "iTerm" to activate'
# lalt - i -> : set has_window (yabai -m query --windows --space | jq 'any(.app == "WezTerm")') ; if not $has_window; wezterm cli spawn --new-window ; end; yabai -m window --focus (yabai -m query --windows --space | jq -s 'map(.[] | select(.app == "WezTerm")) | first | .id')
lalt - i : set has_window (yabai -m query --windows --space | jq 'any(.app == "WezTerm")') ; set is_running (yabai -m query --windows | jq 'any(.app == "WezTerm")') ; if $is_running; and not $has_window; WEZTERM_UNIX_SOCKET=~/.local/share/wezterm/default-org.wezfurlong.wezterm wezterm cli spawn --new-window ; end; osascript -e 'tell application "WezTerm" to activate'
lalt - f : set has_window (yabai -m query --windows --space | jq 'any(.app == "Finder")') ; if not $has_window ; osascript -e 'tell application "Finder" to make new Finder window'; end; osascript -e 'tell application "Finder" to activate'

cmd - space -> : im-select org.sil.ukelele.keyboardlayout.t.keylayout.English-IlyaBirmanTypography 

lalt - space ; app_switcher_1
# hyper - a ; app_switcher_1
app_switcher_1 < escape -> ; default
app_switcher_1 < return -> ; default
app_switcher_1 < q -> ; app_switcher_2
app_switcher_1 < w -> ; app_switcher_2
app_switcher_1 < e -> ; app_switcher_2
app_switcher_1 < r -> ; app_switcher_2
app_switcher_1 < t -> ; app_switcher_2
app_switcher_1 < y -> ; app_switcher_2
app_switcher_1 < u -> ; app_switcher_2
app_switcher_1 < i -> ; app_switcher_2
app_switcher_1 < o -> ; app_switcher_2
app_switcher_1 < p -> ; app_switcher_2
app_switcher_1 < a -> ; app_switcher_2
app_switcher_1 < s -> ; app_switcher_2
app_switcher_1 < d -> ; app_switcher_2
app_switcher_1 < f -> ; app_switcher_2
app_switcher_1 < g -> ; app_switcher_2
app_switcher_1 < h -> ; app_switcher_2
app_switcher_1 < j -> ; app_switcher_2
app_switcher_1 < k -> ; app_switcher_2
app_switcher_1 < l -> ; app_switcher_2
app_switcher_1 < z -> ; app_switcher_2
app_switcher_1 < x -> ; app_switcher_2
app_switcher_1 < c -> ; app_switcher_2
app_switcher_1 < v -> ; app_switcher_2
app_switcher_1 < b -> ; app_switcher_2
app_switcher_1 < n -> ; app_switcher_2
app_switcher_1 < m -> ; app_switcher_2
app_switcher_2 < escape -> ; default
app_switcher_2 < return -> ; default
app_switcher_2 < q -> : skhd -k "return"
app_switcher_2 < w -> : skhd -k "return"
app_switcher_2 < e -> : skhd -k "return"
app_switcher_2 < r -> : skhd -k "return"
app_switcher_2 < t -> : skhd -k "return"
app_switcher_2 < y -> : skhd -k "return"
app_switcher_2 < u -> : skhd -k "return"
app_switcher_2 < i -> : skhd -k "return"
app_switcher_2 < o -> : skhd -k "return"
app_switcher_2 < p -> : skhd -k "return"
app_switcher_2 < a -> : skhd -k "return"
app_switcher_2 < s -> : skhd -k "return"
app_switcher_2 < d -> : skhd -k "return"
app_switcher_2 < f -> : skhd -k "return"
app_switcher_2 < g -> : skhd -k "return"
app_switcher_2 < h -> : skhd -k "return"
app_switcher_2 < j -> : skhd -k "return"
app_switcher_2 < k -> : skhd -k "return"
app_switcher_2 < l -> : skhd -k "return"
app_switcher_2 < z -> : skhd -k "return"
app_switcher_2 < x -> : skhd -k "return"
app_switcher_2 < c -> : skhd -k "return"
app_switcher_2 < v -> : skhd -k "return"
app_switcher_2 < b -> : skhd -k "return"
app_switcher_2 < n -> : skhd -k "return"
app_switcher_2 < m -> : skhd -k "return"

cmd - w -> : sleep 1 && yabai -m window --focus mouse

# default < hyper - h : yabai -m window --focus west
# default < hyper - j : yabai -m window --focus south
# default < hyper - k : yabai -m window --focus north
# default < hyper - l : yabai -m window --focus east
default < hyper - h : set is_nvim (yabai -m query --windows --window | jq '.title|endswith("- NVIM")'); if $is_nvim; skhd -k "f7"; else; yabai -m window --focus west; end
default < hyper - j : set is_nvim (yabai -m query --windows --window | jq '.title|endswith("- NVIM")'); if $is_nvim; skhd -k "f8"; else; yabai -m window --focus south; end
default < hyper - k : set is_nvim (yabai -m query --windows --window | jq '.title|endswith("- NVIM")'); if $is_nvim; skhd -k "f9"; else; yabai -m window --focus north; end
default < hyper - l : set is_nvim (yabai -m query --windows --window | jq '.title|endswith("- NVIM")'); if $is_nvim; skhd -k "f10"; else; yabai -m window --focus east; end
default < hyper - 0x21 : yabai -m window --focus stack.prev || yabai -m window --focus stack.last
default < hyper - 0x1E : yabai -m window --focus stack.next || yabai -m window --focus stack.first

# default < hyper - a  : yabai -m display --focus recent
# default < hyper - q : yabai -m window --display recent; yabai -m display --focus recent

hyper - s ; swap
swap < escape ; default
swap < h : yabai -m window --swap west ; skhd -k "escape"
swap < j : yabai -m window --swap south ; skhd -k "escape"
swap < k : yabai -m window --swap north ; skhd -k "escape"
swap < l : yabai -m window --swap east ; skhd -k "escape"
swap < hyper - h : yabai -m window --swap west ; skhd -k "escape"
swap < hyper - j : yabai -m window --swap south ; skhd -k "escape"
swap < hyper - k : yabai -m window --swap north ; skhd -k "escape"
swap < hyper - l : yabai -m window --swap east ; skhd -k "escape"

hyper - w ; warp
warp < escape ; default
warp < h : yabai -m window --warp west ; skhd -k "escape"
warp < j : yabai -m window --warp south ; skhd -k "escape"
warp < k : yabai -m window --warp north ; skhd -k "escape"
warp < l : yabai -m window --warp east ; skhd -k "escape"
warp < hyper - h : yabai -m window --warp west ; skhd -k "escape"
warp < hyper - j : yabai -m window --warp south ; skhd -k "escape"
warp < hyper - k : yabai -m window --warp north ; skhd -k "escape"
warp < hyper - l : yabai -m window --warp east ; skhd -k "escape"

hyper - e ; inc
inc < escape ; default
inc < hyper - e ; default
inc < space ; default
inc < left : yabai -m window --resize left:-100:0
inc < down : yabai -m window --resize bottom:0:100
inc < up : yabai -m window --resize top:0:-100
inc < right : yabai -m window --resize right:100:0
inc < h : yabai -m window --resize left:-100:0
inc < j : yabai -m window --resize bottom:0:100
inc < k : yabai -m window --resize top:0:-100
inc < l : yabai -m window --resize right:100:0

hyper - d ; dec
dec < escape ; default
dec < hyper - d ; default
dec < space ; default
dec < left : yabai -m window --resize left:100:0
dec < down : yabai -m window --resize bottom:0:-100
dec < up : yabai -m window --resize top:0:100
dec < right : yabai -m window --resize right:-100:0
dec < h : yabai -m window --resize left:100:0
dec < j : yabai -m window --resize bottom:0:-100
dec < k : yabai -m window --resize top:0:100
dec < l : yabai -m window --resize right:-100:0

hyper - t : yabai -m window --toggle float;\
           yabai -m window --grid 4:4:1:1:2:2

## # stacks! p, [ and ]
hyper - i ; ins
ins < escape ; default
ins < hyper - s : yabai -m window --insert stack ; skhd -k "escape"
ins < hyper - h : yabai -m window --insert west ; skhd -k "escape"
ins < hyper - j : yabai -m window --insert south ; skhd -k "escape"
ins < hyper - k : yabai -m window --insert north ; skhd -k "escape"
ins < hyper - l : yabai -m window --insert east ; skhd -k "escape"
# hyper - 0x21 : yabai -m window prev --stack mouse
# hyper - 0x1E : yabai -m window next --stack mouse

## # change layout of desktop
hyper - z : sh ~/.config/yabai/yabairc set_space_to_stack
hyper - x : sh ~/.config/yabai/yabairc set_space_to_bsp
hyper - c : yabai -m space --layout float

# balance size of windows
hyper - b : yabai -m space --balance

# fast focus desktop
cmd + alt - x : yabai -m space --focus recent
cmd + alt - z : yabai -m space --focus prev
cmd + alt - c : yabai -m space --focus next
cmd + alt - 1 : yabai -m space --focus 1
cmd + alt - 2 : yabai -m space --focus 2
cmd + alt - 3 : yabai -m space --focus 3
cmd + alt - 4 : yabai -m space --focus 4
cmd + alt - 5 : yabai -m space --focus 5
cmd + alt - 6 : yabai -m space --focus 6
cmd + alt - 7 : yabai -m space --focus 7
cmd + alt - 8 : yabai -m space --focus 8
cmd + alt - 9 : yabai -m space --focus 9
cmd + alt - 0 : yabai -m space --focus 10

hyper - f : yabai -m window --toggle zoom-fullscreen

hyper - r : yabai -m window --toggle split
